---
layout: post
title: F# ν•¨μ μ΄ν•΄ν•κΈ° 1λ¶€
subtitle: νƒ€μ… μ¶”λ΅ , μµλ… ν•¨μ, μ»¤λ§, λ¶€λ¶„ ν•¨μ μ μ©
tags: [F#, ν•¨μν• ν”„λ΅κ·Έλλ°]
---

μ΄λ² κΈ€μ—μ„λ” F# ν•¨μμ— κ΄€ν•΄ λ” μμ„Έν μ•μ•„λ³΄λ„λ΅ ν•κ² λ‹¤. F# μ½”λ“λ¥Ό μ¦‰μ„μ—μ„ κ°„νΈν•κ² μ‹¤ν–‰ν•λ” λ°©λ²•μ€ λ‡κ°€μ§€κ°€ μλ”λ° κ°€μ¥ μ‰¬μ΄ κ²ƒμ€ F# InteractiveλΌλ” μ΄λ¦„μ REPLμ„ μ΄μ©ν•λ” κ²ƒμ΄λ‹¤. F# Interactiveλ” λ…λ Ήμ¤„μ—μ„ `fsi` λ…λ ΉμΌλ΅ μ‹¤ν–‰ν•΄λ„ λκ³  λΉ„μ£Όμ–Ό μ¤νλ””μ¤ μ•μ—μ„ μ‹¤ν–‰ν•΄λ„ λλ‹¤:

![F# Interactive]({{ '/img/executing-fsharp-interactive.png' | relative_url }}){: .center-block :}

F# Interactiveμ—μ„ μ½”λ“λ¥Ό μ‹¤ν–‰ν•  λ•λ” μ…λ ¥ λ§μ§€λ§‰μ— `;;`λ¥Ό κΌ­ λ¶™μ—¬ μ£Όμ–΄μ•Ό ν•λ‹¤:

![F# Interactive]({{ '/img/appending-double-semicolons.png' | relative_url }}){: .center-block :}

## ν•¨μμ κΈ°λ³Έ ν•νƒμ™€ νƒ€μ… μ¶”λ΅ 

`int` νƒ€μ…μΈ λ‘ μ •μμ ν•©μ„ λλ ¤μ£Όλ” ν•¨μλ¥Ό λ§λ“ λ‹¤κ³  ν•΄λ³΄μ. λ‹¤μκ³Ό κ°™μ΄ μ‘μ„±ν•  μ μλ‹¤:

```fsharp
let add (x: int) (y: int) : int = x + y
```

νƒ€μ… μ¶”λ΅  λ•λ¶„μ— μ•„λμ²λΌ νƒ€μ… μ§€μ •μ„ μ™„μ „ν μƒλµν•΄λ„ λ™μΌν• μ½”λ“κ°€ λλ‹¤:

```fsharp
let add x y = x + y
```

μ΄κ²ƒμ„ F# Interactiveμ—μ„ μ‹¤ν–‰ν•΄ λ³΄λ©΄

```fsharp
> let add (x: int) (y: int) : int = x + y;;
val add : x:int -> y:int -> int

> add 1 2;;
val it : int = 3

> let add x y = x + y;;
val add : x:int -> y:int -> int

> add 1 2;;
val it : int = 3
```

λ‘μ΄ λ™μΌν• ν•¨μμ„μ„ μ• μ μλ‹¤. μ΄λ ‡κ² νƒ€μ… μ§€μ •μ„ μ „λ¶€ μƒλµν•΄λ„ λλ” μ΄μ λ” F# μ»΄νμΌλ¬κ°€ `+` μ—°μ‚°μ— λ€ν•΄ ν”Όμ—°μ‚°μμ νƒ€μ…μ„ `int`λ΅ μ¶”λ΅ ν•κΈ° λ•λ¬Έμ΄λ‹¤. κ·ΈλΌ `int` λ§κ³  λ‹¤λ¥Έ νƒ€μ…μ ν•©μ„ κµ¬ν•λ‹¤λ©΄? κ°€λ Ή λ‘ `int64` μ •μμ ν•©μ„ κµ¬ν•λ” ν•¨μλ¥Ό λ§λ“ λ‹¤λ©΄

```fsharp
let add (x: int64) y = x + y
let add x (y: int64) = x + y
let add x y : int64 = x + y
```

μ²λΌ μΌλ¶€μ—λ§ `int64`λ¥Ό μ§€μ •ν•΄ μ£Όλ©΄ λλ‹¤. μ‹¤ν–‰ν•΄ λ³΄λ©΄

```fsharp
> let add (x: int64) y = x + y;;
val add : x:int64 -> y:int64 -> int64

> let add x (y: int64) = x + y;;
val add : x:int64 -> y:int64 -> int64

> let add x y : int64 = x + y;;
val add : x:int64 -> y:int64 -> int64
```

λ‚λ¨Έμ§€ μƒλµν• νƒ€μ…λ“¤λ„ μ •ν™•ν•κ² μ¶”λ΅ λλ” κ²ƒμ„ λ³Ό μ μλ‹¤.

## μµλ… ν•¨μ

μ„μ `add` ν•¨μλ¥Ό μµλ… ν•¨μ λ¬Έλ²•μ„ μ¨μ„ μ •μν•΄ λ³΄λ©΄ λ‹¤μκ³Ό κ°™λ‹¤(F#μ—μ„λ” `'` κΈ°νΈλ„ μ΄λ¦„μ μΌλ¶€λ΅ μ‚¬μ©ν•  μ μλ‹¤):

```fsharp
let add' = fun (x: int) (y: int) -> x + y
```

μ΄κ²ƒμ„ F# Interactiveμ—μ„ μ‹¤ν–‰ν•΄ λ³΄λ©΄

```fsharp
> let add' = fun (x: int) (y: int) -> x + y;;
val add' : x:int -> y:int -> int

> add' 1 2;;
val it : int = 3
```

μ•μ `add` ν•¨μμ™€ κ²°κ³Όκ°€ λ™μΌν• κ²ƒμ„ ν™•μΈν•  μ μλ‹¤. μµλ… ν•¨μμ—μ„λ„ νƒ€μ…μ„ μƒλµν•  μ μκΈ° λ•λ¬Έμ— μ‹¤μ λ΅λ” μ•„λμ²λΌ μ“΄λ‹¤:

```fsharp
let add' = fun x y -> x + y
```

μ—¬κΈ°κΉμ§€λ” μ΄ν•΄μ— λ³„ λ¬Έμ κ°€ μ—†λ”λ°...

## μ»¤λ§

μ΄λ²μ—λ” λ‹¤μκ³Ό κ°™μ€ μ½”λ“λ¥Ό μƒκ°ν•΄ λ³΄μ:

```fsharp
let add'' x = fun y -> x + y
```

νλΌλ―Έν„°λ¥Ό ν•κ° λ°›μ•„ νλΌλ―Έν„°λ¥Ό ν•κ° λ°›λ” ν•¨μλ΅ λλ ¤μ£Όλ” ν•¨μλ‹¤. λ§λ΅ μ“°λ‹κΉ ν‘ν„μ΄ μ΄μƒν•κΈ΄ ν•λ° μ΄κ²ƒλ„ μ‹¤ν–‰ν•΄ λ³΄λ©΄:

```fsharp
> let add'' x = fun y -> x + y
val add'' : x:int -> y:int -> int

> add'' 1 2;;
val it : int = 3
```

κ·Έλ¦¬κ³  ν•λ‹¨κ³„ λ” λ‚μ•„κ°€λ©΄:

```fsharp
> let add''' = fun x -> fun y -> x + y;;
val add''' : x:int -> y:int -> int

> add''' 1 2;;
val it : int = 3
```

μ•μ `add`, `add'`μ™€ κ²°κ³Όκ°€ λ™μΌν• κ²ƒμ„ μ• μ μλ‹¤(!).

μ΄λ ‡κ² λ‘κ° μ΄μƒμ νλΌλ―Έν„°λ¥Ό κ°–λ” ν•¨μλ¥Ό λ‹¨ ν•κ°μ νλΌλ―Έν„°λ§ κ°–λ” ν•¨μμ μ—°μ†μΌλ΅ μκ° μΌκ°λ” κ²ƒμ„ **μ»¤λ§**(currying)μ΄λΌκ³  ν•λ‹¤. μ»¤λ§μ€ λ¨Ήλ” μΉ΄λ (curry)μ™€λ” λ¬΄κ΄€ν•κ³  [ν•μ¤μΌ μ»¤λ¦¬](https://en.wikipedia.org/wiki/Haskell_Curry)λΌλ” μν•™μλ¥Ό κΈ°λ¦¬κΈ° μ„ν•΄ λ¶™μΈ μ΄λ¦„μ΄λ‹¤(ν•μ¤μΌ μ–Έμ–΄μ μ΄λ¦„λ„ μ΄ λ¶„ν•ν…μ„ μ™”λ‹¤).

λ¨λ“  ν•¨μλ¥Ό λ‹¨ ν•κ°μ νλΌλ―Έν„°λ¥Ό κ°–λ” ν•¨μλ΅ μΌλ°ν™”ν•λ©΄ μƒκΈ°λ” μ¥μ μ€ ν•¨μλ“¤λΌλ¦¬ ν•©μ„±ν•κΈ°κ°€ λ§¤μ° μ©μ΄ν•΄μ§„λ‹¤λ” κ²ƒμ΄λ‹¤. λν• μ •ν†µ ν•¨μν• ν”„λ΅κ·Έλλ° μ–Έμ–΄μ™€ ν•¨μν• ν”„λ΅κ·Έλλ°μ„ μ§€μ›ν•λ” λΉ„ν•¨μν• ν”„λ΅κ·Έλλ° μ–Έμ–΄λ¥Ό κµ¬λ¶„μ§“λ” κ·Όλ³Έμ μΈ μ°¨μ΄μ΄κΈ°λ„ ν•λ‹¤. μλ¥Ό λ“¤μ–΄ μλ°”λ‚ C#μ€ μ–Έμ–΄ μ°¨μ›μ—μ„ μ»¤λ§μ„ μ§€μ›ν•μ§€ μ•κΈ° λ•λ¬Έμ— κµ³μ΄ κµ¬ν„ν•λ ¤λ©΄ λ§¤λ² λ²κ±°λ΅μ΄ μμ‘μ—…μ„ κ±°μ³μ•Ό ν•λ‹¤.

μ»¤λ§μ„ μ΄μ©ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ ν•¨μλ“¤λ„ μ „λ¶€ λ™μΉλ‹¤:

```fsharp
let add3 x y z = x + y + z
let add3' x y = fun z -> x + y + z
let add3'' x = fun y -> fun z -> x + y + z
let add3''' = fun x -> fun y -> fun z -> x + y + z
```

μ‹¤ν–‰ν•΄ λ³΄λ©΄:

```fsharp
> let add3 x y z = x + y + z
let add3' x y = fun z -> x + y + z
let add3'' x = fun y -> fun z -> x + y + z
let add3''' = fun x -> fun y -> fun z -> x + y + z;;
val add3 : x:int -> y:int -> z:int -> int
val add3' : x:int -> y:int -> z:int -> int
val add3'' : x:int -> y:int -> z:int -> int
val add3''' : x:int -> y:int -> z:int -> int

> add3 1 2 3;;
val it : int = 6

> add3' 1 2 3;;
val it : int = 6

> add3'' 1 2 3;;
val it : int = 6

> add3''' 1 2 3;;
val it : int = 6
```

## ν•¨μ μ‹κ·Έλ„μ³κ°€ μλ―Έν•λ” κ²ƒ

μ΄λ²μ—λ” `add3` ν•¨μμ μ‹κ·Έλ„μ³λ¥Ό μ‚΄ν΄ λ³΄μ:

```fsharp
> let add3 x y z = x + y + z;;
val add3 : x:int -> y:int -> z:int -> int
```

κ° νλΌλ―Έν„°κ°€ `->`λ΅ μ—°κ²°λμ–΄ μλ” κ²ƒμ„ ν•΄μ„ν•λ©΄ μ΄ ν•¨μλ” `x`, `y`, `z` μ„Έ νλΌλ―Έν„°λ¥Ό λ°›μ•„ `int` νƒ€μ…μ„ λ¦¬ν„΄ν•λ” ν•¨μμ΄λ©΄μ„ λ™μ‹μ— `x`, `y` λ‘ νλΌλ―Έν„°λ¥Ό λ°›μ•„ `z:int -> int`μ™€ κ°™μ€ ν•¨μλ¥Ό λ¦¬ν„΄ν•λ” ν•¨μμ΄κΈ°λ„ ν•κ³  λ™μ‹μ— `x` ν• νλΌλ―Έν„°λ¥Ό λ°›μ•„ `y:int -> z:int -> int`μ™€ κ°™μ€ ν•¨μλ¥Ό λ¦¬ν„΄ν•λ” ν•¨μμ΄κΈ°λ„ ν•λ‹¤λ” λ»μ΄λ‹¤.

λ¦¬ν„΄κ°’μ— κ΄„νΈλ¥Ό μ³λ³΄λ©΄ λ” μ‰½κ²(?) μ΄ν•΄κ°€ κ° μλ„ μλ‹¤:

```fsharp
val add3 : x:int -> y:int -> z:int -> (int)
val add3' : x:int -> y:int -> (z:int -> int)
val add3'' : x:int -> (y:int -> z:int -> int)
val add3''' : (x:int -> y:int -> z:int -> int)
```

μ—¬μ „ν μ΄κ² λ„λ€μ²΄ λ¬΄μ¨ μ†λ¦°κ°€ μ‹¶μ€ λ¶„λ“¤μ€ μ•„λλ΅ κ³„μ†...

## ν•¨μμ ν‰κ°€ μμ„μ™€ λ¶€λ¶„ ν•¨μ μ μ©

μ„μ—μ„ μ„¤λ…ν• κ°λ…μ— μν•΄ F#μ ν•¨μλ” λ…νΉν• λ°©μ‹μΌλ΅ ν‰κ°€λλ‹¤. μλ¥Ό λ“¤μ–΄

```fsharp
> add 1 2;;
val it : int = 3
```

μ™€ κ°™μ€ ν•¨μ νΈμ¶μ€ μ‚¬μ‹¤μ€

```fsharp
> (add 1) 2;;
val it : int = 3
```

μ²λΌ ν‰κ°€λλ‹¤. `(add 1)`μ΄λΌλ” ν•¨μ νΈμ¶μ΄ νλΌλ―Έν„°λ¥Ό ν•κ° κ°–λ” ν•¨μλ¥Ό λ¦¬ν„΄ν•λ©΄ μ—¬κΈ°μ— `2`λ¥Ό λ„κ²¨μ¤μ„ μ „μ²΄ νΈμ¶μ„ μ™„μ„±ν•λ‹¤λ” λ»μ΄λ‹¤. λ§μ°¬κ°€μ§€λ΅

```fsharp
> add3 1 2 3;;
val it : int = 6
```

λ”

```fsharp
> ((add3 1) 2) 3;;
val it : int = 6
```

μ™€ λ™μΌν•λ‹¤.

λ„λ€μ²΄ μ™ μ΄λ ‡κ² μ΄μƒν• λ°©μ‹μΌλ΅ ν•¨μλ¥Ό ν‰κ°€ν•λλƒλ©΄ μ•„λμ™€ κ°™μ€ μ©λ²•μ΄ κ°€λ¥ν•΄μ§€κΈ° λ•λ¬Έμ΄λ‹¤:

```fsharp
> let addOne = add 1;;
val addOne : (int -> int)

> addOne 2;;
val it : int = 3
```

μ—¬κΈ°μ„ `addOne`μ€ `add` ν•¨μμ— νλΌλ―Έν„°λ¥Ό μΌλ¶€λ§ μ μ©ν•΄μ„ λ§λ“  ν•¨μλ‹¤. μ΄κ²ƒμ„ νΉλ³„ν **λ¶€λ¶„ ν•¨μ μ μ©**(partial function application)μ΄λΌκ³  ν•κ³ , μ»¤λ§κ³Ό ν•¨κ» ν•¨μν• ν”„λ΅κ·Έλλ°μ—μ„  λ§¤μ° μ¤‘μ”ν• κ°λ…μ¤‘ ν•λ‚λ‹¤. λ¶€λ¶„ ν•¨μ μ μ©μ„ μ΄μ©ν•λ©΄ λ‹¤μ μ½”λ“λ„ κ°€λ¥ν•λ‹¤:

```fsharp
> let addOneAndTwo = add3 1 2;;
val addOneAndTwo : (int -> int)

> addOneAndTwo 3;;
val it : int = 6
```

## C#μΌλ΅ μ»¤λ§κ³Ό λ¶€λ¶„ ν•¨μ μ μ©μ„ ν•λ‹¤λ©΄

μ΄λ΅ μ μΌλ΅λ” C#μ—μ„λ„ μ»¤λ§κ³Ό λ¶€λ¶„ ν•¨μ μ μ©μ„ κµ¬ν„ν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤. λλ‹¤μ‹μ„ μ¨μ„ μµλ€ν• μ§§κ² μ‘μ„±ν•΄ λ³΄λ©΄(C# Interactiveμ—μ„ μ‹¤ν–‰):

```csharp
> Func<int,int> Add(int x) => y => x + y;
> int AddOne(int y) => Add(1)(y);
> AddOne(2)
3
```

`()`μ™€ `,`λ¥Ό ν¬ν•¨ν• λ¬Έλ²•μƒμ κµ°λ”λ”κΈ°κ°€ λ„λ¬΄ λ§μ•„μ„ μ½”λ“κ°€ μ¤νλ ¤ ν›¨μ”¬ λ” μ§€μ €λ¶„ν•κ³  μ΄ν•΄ν•κΈ° νλ“¤κ² λμ–΄ λ²„λ Έλ‹¤. π«

## μ”μ•½

- F#μ€ κ°•λ ¥ν• νƒ€μ… μ¶”λ΅  κΈ°λ¥μ„ κ°€μ§€κ³  μμ–΄μ„ κ±°μ λ€λ¶€λ¶„μ κ²½μ° νƒ€μ… μ§€μ •μ„ μƒλµν•΄λ„ λλ‹¤.
- μµλ… ν•¨μλ” `fun νλΌλ―Έν„°1 νλΌλ―Έν„°2 ... -> ν•¨μ λ³Έμ²΄`μ²λΌ μ“΄λ‹¤. μµλ… ν•¨μλ¥Ό λ‹¤λ¥Έ λ§λ΅ λλ‹¤(lambda)λΌκ³ λ„ ν•λ‹¤.
- μ—¬λ¬κ°μ νλΌλ―Έν„°λ¥Ό κ°€μ§„ ν•¨μλ¥Ό λ‹¨ ν•κ°μ νλΌλ―Έν„°λ§ κ°–λ” ν•¨μμ μ—°μ†μΌλ΅ λ³€ν•ν•λ” κ²ƒμ„ μ»¤λ§μ΄λΌκ³  ν•λ‹¤.
- μ—¬λ¬κ°μ νλΌλ―Έν„°λ¥Ό κ°€μ§„ ν•¨μμ— νλΌλ―Έν„°λ¥Ό μΌλ¶€λ§ μ μ©ν•΄μ„ ν•¨μλ¥Ό μƒλ΅ λ§λ“λ” κ²ƒμ„ λ¶€λ¶„ ν•¨μ μ μ©μ΄λΌκ³  ν•λ‹¤.

μ»¤λ§κ³Ό λ¶€λ¶„ ν•¨μ μ μ©μ€ ν•¨μν• ν”„λ΅κ·Έλλ°μ—μ„ λ§¤μ° μ¤‘μ”ν• κ°λ…μ΄μ§€λ§ μ΄ κΈ€μ λ‚΄μ©λ§μΌλ΅λ” κ·Έ μ΄μ κ°€ λ…ν™•ν•μ§€ μ•λ‹¤. λ‹¤μ κΈ€μ—μ„ μ—°μ‚°μμ μ©λ²•κ³Ό ν•¨κ» λ” μ•μ•„λ³΄λ„λ΅ ν•κ² λ‹¤.

2λ¶€μ— κ³„μ†...
